Installation of the KOI Simulator
=================================

This is a short description of the steps necessary to install the KOI 
Simulator.

Prerequisites
-------------

The KOI Simulator is based on the OMNET++ fork HORIZON, which adds parallel 
execution of simulations. 

To install HORIZON, a C++ compiler (like GCC or CLANG) is necessary.

Follow these steps to install HORIZON:

	1) Clone the Horizon repository: 
		git clone https://code.comsys.rwth-aachen.de/git/horizon-4-public horizon
	2) change to horizon dir: cd horizon
	3) set environment: . setenv (note the dot!)
	4) Run configuration: ./configure
		This might throw a few errors about missing libraries. If so, 
		install those libraries with your distribution's package manager.
	5) Run make
		For faster compilation, run "make -jN", where is your number 
		of processor cores.

The KOI simulation also requires the IT++ library. Install it via your 
distribution's package manager. The library is probably named "itpp" or 
"libitpp".

Compilation
-----------

Before compiling the Simulator, make sure that the HORIZON binaries are in your 
PATH. Change into your HORIZON directory and enter ". setenv".

After having added the binaries to your PATH, change back into the KOI 
Simulator root directory and execute "make". This will generate the necessary 
make files and compile the Simulator proper.

You will find the executable in the out/ directory, as well as a softlink in 
the src/ directory.

Troubleshooting
---------------

Should you encounter the error 
"too few arguments to function 'int matchexpressionyylex(char**, void*)'",
please download and decompress the file 
"https://omnetpp.org/omnetpp/summary/30-omnet-releases/2290-omnet-4-6-source-ide-tgz".

Then, copy the file "omnetpp-4.6/src/common/matchexpression.tab.cc" to 
"src/common/" in the HORZION directory.

Should you encounter compiler errors mentioning cxx_11, you need to add 
"-std=c++11" to "src/Makefile", at the end of the line 
"COPTS = $(CFLAGS)  $(INCLUDE_PATH) -I$(OMNETPP_INCL_DIR)".
